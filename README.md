# 通知转发应用

## 应用简介
本应用可实现多设备间的通知相互转发功能。通过获取设备通知访问权限、应用列表权限及网络权限，设备间可双向转发通知原文。转发消息包含原通知的应用跳转接口，若接收设备安装了对应应用，点击转发消息即可跳转至与发送方一致的应用页面。


## 权限引导
首次启动应用时，将显示引导界面，清晰说明所需权限及用途，并引导用户跳转至系统设置页面授予以下必要权限：
- 通知访问权限（用于获取设备通知内容）
- 应用列表权限（用于识别设备安装的应用，支持转发规则生效）
- 网络权限（用于设备间通信及通知转发）


## 功能页面说明
应用包含三个核心页面，功能如下：

### 1. 设置转发模式
提供三种转发规则，用户可根据需求选择：
- **镜像模式**：转发设备收到的全部通知
- **对等模式**：仅转发接收方已安装应用的通知
- **自定义模式**：支持选择黑名单（屏蔽指定应用通知）或白名单（仅转发指定应用通知）


### 2. 通知历史
展示所有转发和接收的通知记录，包括：
- 通知来源设备/接收设备
- 通知对应的应用名称
- 通知内容
- 转发/接收时间


### 3. 转发和接收设备设置
#### 设备发现与连接
- 自动搜索局域网内安装本应用的设备，并显示设备名称
- 点击目标设备名称发起连接请求

#### 连接验证
被请求连接的设备将弹窗提示，包含以下选项：
- 允许：建立连接，支持双向通知转发
- 拒绝：拒绝本次连接请求
- 拉黑：拒绝连接并加入黑名单，阻止后续请求

#### 黑名单管理
- 右上角提供“取消拉黑”入口，可移除黑名单中的设备，恢复其连接请求权限


## 使用流程
1. 首次启动应用，完成权限授予
2. 在“转发和接收设备设置”页面，发现并连接目标设备（需对方确认“允许”）
3. 在“设置转发模式”页面选择合适的转发规则
4. 通知将按规则自动转发，历史记录可在“通知历史”页面查看


## 注意事项
- 确保设备处于同一局域网内，以保证设备发现和通知转发功能正常
- 转发功能依赖应用权限，若权限被关闭，需重新授予后才能恢复使用
- 跳转功能仅支持接收设备已安装对应应用的场景



